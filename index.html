
<!DOCTYPE html>

<html>

<head>
	<title>Ghettoligan</title>
	<meta charset='utf-8' />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.js"></script>
</head>

<style>
#wrapper{
	position:absolute;
	top:0px;
	bottom:0px;
	left:0px;
	right:0px;
	overflow:hidden;
	display:flex;
	justify-content:center;
	align-items:center;
}

#myChartDiv{
	width:800px;
	height:600px;
}
</style>

<body>
	<div id="wrapper">
		<div id="myChartDiv">
			<canvas id="myChart"></canvas>
		</div>
	</div>
</body>

<script>

var ctx = document.getElementById("myChart");


	var xhr = new XMLHttpRequest();
	var url = 'http://nile16.nu:1203/area';
	xhr.open("GET", url, true);
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4 && xhr.status == 200) {
			var stats=JSON.parse(xhr.responseText);
			l=[];
			d=[];
			for (var i=0;i<stats.length;i++) {
				l.push(stats[i][0]);
				d.push(stats[i][1]);
			}

			var myPieChart = new Chart(ctx,{
				type: 'bar',
				data: {
							labels: l,
							datasets: [
								{
									data: d,
									label: "Polisrapporter per kvadratkilometer",
									backgroundColor: [
										"#ff0000",
										"#ff0800",
										"#ff1000",
										"#ff1800",
										"#ff2000",
										"#ff2800",
										"#ff3000",
										"#ff3800",
										"#ff4000",
										"#ff4800",
										"#ff5000",
										"#ff5800",
										"#ff6000",
										"#ff6800",
										"#ff7000",
										"#ff7800",
										"#ff8000",
										"#ff8800",
										"#ff9000",
										"#ff9800"
									],
									hoverBackgroundColor: [
										"#ff0000",
										"#ff0800",
										"#ff1000",
										"#ff1800",
										"#ff2000",
										"#ff2800",
										"#ff3000",
										"#ff3800",
										"#ff4000",
										"#ff4800",
										"#ff5000",
										"#ff5800",
										"#ff6000",
										"#ff6800",
										"#ff7000",
										"#ff7800",
										"#ff8000",
										"#ff8800",
										"#ff9000",
										"#ff9800"
									]
								}]
						}
					});

		}
	}
	xhr.send();
	
</script>


</html>